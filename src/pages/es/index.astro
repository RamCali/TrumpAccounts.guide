---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CalloutBox from '../../components/ui/CalloutBox.astro';
import MiniGrowthCalc from '../../components/calculators/MiniGrowthCalc';
import MiniEligibilityChecker from '../../components/calculators/MiniEligibilityChecker';
import MiniEmployerMatch from '../../components/calculators/MiniEmployerMatch';
import CountdownTimer from '../../components/CountdownTimer';
import { organizationSchema, webSiteSchema, faqSchema } from '../../lib/seo/schema';
import { getTranslationObject } from '../../i18n/config';

const hp = getTranslationObject('es', 'homepage');
const calc = getTranslationObject('es', 'calculators');

// Build mini calculator translation objects by extracting relevant keys
const miniGrowthT = {
  title: calc['mini.growth.title'],
  initialDeposit: calc['mini.growth.initialDeposit'],
  monthlySavings: calc['mini.growth.monthlySavings'],
  growthRate: calc['mini.growth.growthRate'],
  projectedValue: calc['mini.growth.projectedValue'],
  cta: calc['mini.growth.cta'],
  ctaHref: calc['mini.growth.ctaHref'],
  initialDepositAria: calc['mini.growth.initialDepositAria'],
  monthlySavingsAria: calc['mini.growth.monthlySavingsAria'],
  growthRateAria: calc['mini.growth.growthRateAria'],
};

const miniEligibilityT = {
  title: calc['mini.eligibility.title'],
  birthDate: calc['mini.eligibility.birthDate'],
  birthYearAria: calc['mini.eligibility.birthYearAria'],
  usCitizen: calc['mini.eligibility.usCitizen'],
  usCitizenAria: calc['mini.eligibility.usCitizenAria'],
  validSSN: calc['mini.eligibility.validSSN'],
  validSSNAria: calc['mini.eligibility.validSSNAria'],
  eligible: calc['mini.eligibility.eligible'],
  grant: calc['mini.eligibility.grant'],
  notEligible: calc['mini.eligibility.notEligible'],
  mustBeCitizen: calc['mini.eligibility.mustBeCitizen'],
  ssnRequired: calc['mini.eligibility.ssnRequired'],
};

const miniEmployerT = {
  title: calc['mini.employer.title'],
  trumpAccount: calc['mini.employer.trumpAccount'],
  employerMatch: calc['mini.employer.employerMatch'],
  perYear: calc['mini.employer.perYear'],
  yourContrib: calc['mini.employer.yourContrib'],
  yourContribAria: calc['mini.employer.yourContribAria'],
  employerContrib: calc['mini.employer.employerContrib'],
  employerContribAria: calc['mini.employer.employerContribAria'],
  totalAnnual: calc['mini.employer.totalAnnual'],
  cta: calc['mini.employer.cta'],
  ctaHref: calc['mini.employer.ctaHref'],
};

const schemas = [
  organizationSchema(),
  webSiteSchema(),
  faqSchema([
    {
      question: '¿Qué son las Cuentas Trump?',
      answer: 'Las Cuentas Trump son cuentas de inversión con ventajas fiscales creadas por la Ley One Big Beautiful Bill (IRC §530A). Cada niño elegible ciudadano de EE.UU. nacido entre 2025-2028 recibe un depósito piloto federal de $1,000, invertido en fondos indexados del S&P 500 hasta los 18 años, cuando la cuenta se convierte en una IRA tradicional.',
    },
    {
      question: '¿Cómo abro una Cuenta Trump?',
      answer: 'Presente el Formulario 4547 del IRS con su declaración de impuestos 2025 (fecha límite 15 de abril de 2026), use el portal trumpaccounts.gov a partir de mediados de 2026, o envíe el formulario por correo al IRS. Necesita el número de Seguro Social de su hijo.',
    },
    {
      question: '¿Quién califica para una Cuenta Trump?',
      answer: 'Cualquier ciudadano de EE.UU. menor de 18 años con un número de Seguro Social válido. No hay restricciones de ingresos. El depósito piloto de $1,000 está limitado a niños nacidos entre el 1 de enero de 2025 y el 31 de diciembre de 2028.',
    },
    {
      question: '¿Cuánto puedo contribuir a una Cuenta Trump?',
      answer: 'Hasta $5,000 por año en contribuciones después de impuestos. Los empleadores pueden contribuir hasta $2,500 por año por empleado (libre de impuestos bajo §128), que cuenta para el límite de $5,000.',
    },
  ]),
];
---

<BaseLayout
  title="TrumpAccounts.guide — Su Guía en Español de las Cuentas Trump y el Formulario 4547"
  description="Calculadoras gratuitas, guía del Formulario IRS 4547, y explicación en español de las Cuentas Trump. Vea cómo crecen $1,000, verifique elegibilidad, y compare con planes 529."
  schema={schemas}
  alternateSlug="/"
>
  <!-- Hero Section -->
  <section class="relative border-b border-surface-700">
    <div class="mx-auto max-w-6xl px-4 py-16 md:py-24">
      <div class="max-w-3xl">
        <p class="mb-3 text-sm font-semibold uppercase tracking-wider text-gold-400">
          {hp['hero.badge']}
        </p>
        <h1 class="text-4xl font-extrabold leading-tight text-white md:text-5xl">
          {hp['hero.title']}
        </h1>
        <p class="mt-4 text-lg leading-relaxed text-gray-400 md:text-xl" set:html={hp['hero.subtitle']} />
        <div class="mt-8 flex flex-wrap gap-3">
          <a href="/es/que-son-las-cuentas-trump" class="inline-flex items-center rounded-lg bg-gold-500 px-5 py-3 font-semibold text-surface-900 no-underline transition-colors hover:bg-gold-400">
            {hp['hero.ctaWhat']}
          </a>
          <a href="/es/calculadoras/verificador-de-elegibilidad" class="inline-flex items-center rounded-lg border border-surface-600 bg-surface-800 px-5 py-3 font-semibold text-white no-underline transition-colors hover:border-gold-400/40 hover:bg-surface-700">
            {hp['hero.ctaEligibility']}
          </a>
          <a href="/es/calculadoras/calculadora-de-crecimiento" class="inline-flex items-center rounded-lg border border-surface-600 bg-surface-800 px-5 py-3 font-semibold text-white no-underline transition-colors hover:border-gold-400/40 hover:bg-surface-700">
            {hp['hero.ctaGrowth']}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Countdown Timer -->
  <section class="border-b border-surface-700">
    <div class="mx-auto max-w-2xl px-4 py-8">
      <CountdownTimer client:visible label={hp['countdown.label']} />
    </div>
  </section>

  <!-- Key Facts Bar -->
  <section class="border-b border-surface-700 bg-surface-800">
    <div class="mx-auto grid max-w-6xl grid-cols-2 gap-4 px-4 py-8 md:grid-cols-4">
      <div class="text-center">
        <p class="text-2xl font-extrabold text-gold-400">{hp['facts.deposit']}</p>
        <p class="mt-1 text-sm text-gray-400">{hp['facts.depositLabel']}</p>
      </div>
      <div class="text-center">
        <p class="text-2xl font-extrabold text-mint-400">{hp['facts.limit']}</p>
        <p class="mt-1 text-sm text-gray-400">{hp['facts.limitLabel']}</p>
      </div>
      <div class="text-center">
        <p class="text-2xl font-extrabold text-gold-400">{hp['facts.employer']}</p>
        <p class="mt-1 text-sm text-gray-400">{hp['facts.employerLabel']}</p>
      </div>
      <div class="text-center">
        <p class="text-2xl font-extrabold text-mint-400">{hp['facts.live']}</p>
        <p class="mt-1 text-sm text-gray-400">{hp['facts.liveLabel']}</p>
      </div>
    </div>
  </section>

  <!-- Who Qualifies -->
  <section class="border-b border-surface-700">
    <div class="mx-auto max-w-4xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['qualify.title']}</h2>
      <p class="mx-auto mt-3 max-w-2xl text-center text-gray-400" set:html={hp['qualify.subtitle']} />

      <div class="mt-8 grid gap-4 sm:grid-cols-3">
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6 text-center">
          <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-gold-400/15 text-gold-400">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2z" />
            </svg>
          </div>
          <h3 class="font-bold text-white">{hp['qualify.citizen']}</h3>
          <p class="mt-1 text-sm text-gray-400">{hp['qualify.citizenDesc']}</p>
        </div>
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6 text-center">
          <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-gold-400/15 text-gold-400">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0" />
            </svg>
          </div>
          <h3 class="font-bold text-white">{hp['qualify.ssn']}</h3>
          <p class="mt-1 text-sm text-gray-400">{hp['qualify.ssnDesc']}</p>
        </div>
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6 text-center">
          <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-gold-400/15 text-gold-400">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </div>
          <h3 class="font-bold text-white">{hp['qualify.age']}</h3>
          <p class="mt-1 text-sm text-gray-400">{hp['qualify.ageDesc']}</p>
        </div>
      </div>

      <div class="mt-6 rounded-xl border border-mint-400/30 bg-mint-400/10 p-5">
        <p class="text-center text-sm leading-relaxed text-mint-200" set:html={hp['qualify.pilotNote']} />
      </div>

      <div class="mt-6 text-center">
        <a href="/es/calculadoras/verificador-de-elegibilidad" class="inline-flex items-center rounded-lg bg-gold-500 px-5 py-3 font-semibold text-surface-900 no-underline transition-colors hover:bg-gold-400">
          {hp['qualify.cta']}
        </a>
      </div>
    </div>
  </section>

  <!-- Mini Calculators Section -->
  <section class="border-b border-surface-700">
    <div class="mx-auto max-w-6xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['calcs.title']}</h2>
      <p class="mx-auto mt-3 max-w-2xl text-center text-gray-400">
        {hp['calcs.subtitle']}
      </p>
      <div class="mt-10 grid gap-6 md:grid-cols-3">
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6">
          <h3 class="mb-4 font-bold text-gold-400">{hp['calcs.growthLabel']}</h3>
          <MiniGrowthCalc translations={miniGrowthT} client:visible />
          <a href="/es/calculadoras/calculadora-de-crecimiento" class="mt-4 inline-block text-sm font-medium text-gold-400 no-underline hover:text-gold-300">
            {hp['calcs.growthLink']}
          </a>
        </div>
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6">
          <h3 class="mb-4 font-bold text-mint-400">{hp['calcs.eligibilityLabel']}</h3>
          <MiniEligibilityChecker translations={miniEligibilityT} client:visible />
          <a href="/es/calculadoras/verificador-de-elegibilidad" class="mt-4 inline-block text-sm font-medium text-gold-400 no-underline hover:text-gold-300">
            {hp['calcs.eligibilityLink']}
          </a>
        </div>
        <div class="rounded-xl border border-surface-600 bg-surface-800 p-6">
          <h3 class="mb-4 font-bold text-purple-400">{hp['calcs.employerLabel']}</h3>
          <MiniEmployerMatch translations={miniEmployerT} client:visible />
          <a href="/es/calculadoras/contribucion-del-empleador" class="mt-4 inline-block text-sm font-medium text-gold-400 no-underline hover:text-gold-300">
            {hp['calcs.employerLink']}
          </a>
        </div>
      </div>
      <div class="mt-6 text-center">
        <a href="/es/calculadoras" class="text-sm text-gold-400 no-underline hover:text-gold-300">{hp['calcs.viewAll']}</a>
      </div>
    </div>
  </section>

  <!-- Viral Tools Section -->
  <section class="border-b border-surface-700 bg-surface-800">
    <div class="mx-auto max-w-6xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['viral.title']}</h2>
      <p class="mx-auto mt-3 max-w-2xl text-center text-gray-400">
        {hp['viral.subtitle']}
      </p>
      <div class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <a href="/es/herramientas/reporte-de-riqueza" class="group rounded-xl border border-surface-600 bg-surface-900 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-gold-400">{hp['viral.wealthTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['viral.wealthDesc']}</p>
        </a>
        <a href="/es/herramientas/tarjeta-de-regalo" class="group rounded-xl border border-surface-600 bg-surface-900 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-mint-400">{hp['viral.giftTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['viral.giftDesc']}</p>
        </a>
        <a href="/es/herramientas/email-rrhh" class="group rounded-xl border border-surface-600 bg-surface-900 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-purple-400">{hp['viral.hrTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['viral.hrDesc']}</p>
        </a>
      </div>
      <div class="mt-6 text-center">
        <a href="/es/herramientas" class="text-sm text-gold-400 no-underline hover:text-gold-300">{hp['viral.viewAll']}</a>
      </div>
    </div>
  </section>

  <!-- Content Hubs Section -->
  <section class="border-b border-surface-700">
    <div class="mx-auto max-w-6xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['hubs.title']}</h2>
      <div class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <a href="/es/que-son-las-cuentas-trump" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.whatTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.whatDesc']}</p>
        </a>
        <a href="/es/como-abrir-una-cuenta-trump" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.howTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.howDesc']}</p>
        </a>
        <a href="/irs-notice-2025-68" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.irsTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.irsDesc']}</p>
        </a>
        <a href="/compare" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.compareTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.compareDesc']}</p>
        </a>
        <a href="/for-employers" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.employerTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.employerDesc']}</p>
        </a>
        <a href="/es/preguntas-frecuentes" class="group rounded-xl border border-surface-600 bg-surface-800 p-6 no-underline transition-all hover:border-gold-400/40">
          <h3 class="font-bold text-white group-hover:text-gold-400">{hp['hubs.faqTitle']}</h3>
          <p class="mt-2 text-sm text-gray-400">{hp['hubs.faqDesc']}</p>
        </a>
      </div>
    </div>
  </section>

  <!-- The Translation Layer Section -->
  <section class="border-b border-surface-700 bg-surface-800">
    <div class="mx-auto max-w-4xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['translation.title']}</h2>
      <p class="mx-auto mt-3 max-w-2xl text-center text-gray-400">
        {hp['translation.subtitle']}
      </p>
      <div class="mt-8 space-y-6">
        <CalloutBox type="irs-quote" title="Lo que dice el IRS (Aviso 2025-68, Sección 3.02)">
          <p>"An initial Trump account is a trust created or organized in the United States for the exclusive benefit of an eligible child as designated beneficiary..."</p>
        </CalloutBox>
        <div class="rounded-lg border border-mint-400/30 bg-mint-400/10 p-4">
          <p class="mb-1 font-semibold text-mint-300">{hp['translation.plainEnglish']}</p>
          <p class="text-sm leading-relaxed text-mint-200">
            {hp['translation.plainText']}
          </p>
        </div>
        <div class="text-center">
          <a href="/irs-notice-2025-68" class="inline-flex items-center rounded-lg border border-surface-600 bg-surface-700 px-5 py-3 font-semibold text-white no-underline transition-colors hover:bg-surface-600">
            {hp['translation.cta']}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Preview -->
  <section>
    <div class="mx-auto max-w-4xl px-4 py-16">
      <h2 class="text-center text-2xl font-bold text-white md:text-3xl">{hp['faqPreview.title']}</h2>
      <div class="mt-8 space-y-4">
        <details class="group rounded-lg border border-surface-600 bg-surface-800">
          <summary class="cursor-pointer px-6 py-4 font-semibold text-white">¿Qué son las Cuentas Trump?</summary>
          <div class="border-t border-surface-700 px-6 py-4 text-sm text-gray-300">
            Las Cuentas Trump son cuentas de inversión con ventajas fiscales creadas por la Ley One Big Beautiful Bill bajo IRC §530A. Cada niño elegible ciudadano de EE.UU. nacido entre 2025-2028 puede recibir un depósito piloto federal de $1,000. El dinero se invierte en fondos indexados del S&P 500 durante la "fase de crecimiento" (nacimiento hasta los 18), luego se convierte en una IRA tradicional. Los padres y empleadores pueden contribuir hasta $5,000/año.
            <a href="/es/que-son-las-cuentas-trump" class="mt-2 block font-medium text-gold-400 no-underline">Leer la guía completa &rarr;</a>
          </div>
        </details>
        <details class="group rounded-lg border border-surface-600 bg-surface-800">
          <summary class="cursor-pointer px-6 py-4 font-semibold text-white">¿Cómo abro una Cuenta Trump para mi hijo?</summary>
          <div class="border-t border-surface-700 px-6 py-4 text-sm text-gray-300">
            Presente el Formulario 4547 del IRS con su declaración de impuestos 2025 (fecha límite 15 de abril de 2026). También puede usar el portal trumpaccounts.gov a partir de mediados de 2026, o enviar el formulario por correo. Necesitará el número de Seguro Social de su hijo. El IRS enviará información de activación a partir de mayo de 2026.
            <a href="/es/como-abrir-una-cuenta-trump" class="mt-2 block font-medium text-gold-400 no-underline">Guía paso a paso &rarr;</a>
          </div>
        </details>
        <details class="group rounded-lg border border-surface-600 bg-surface-800">
          <summary class="cursor-pointer px-6 py-4 font-semibold text-white">¿Quién califica para el depósito federal de $1,000?</summary>
          <div class="border-t border-surface-700 px-6 py-4 text-sm text-gray-300">
            Niños ciudadanos de EE.UU. nacidos entre el 1 de enero de 2025 y el 31 de diciembre de 2028 que tengan un número de Seguro Social válido. No hay restricciones de ingresos — cada niño que califique recibe los mismos $1,000. Los niños mayores aún pueden abrir una Cuenta Trump pero no recibirán el depósito piloto.
            <a href="/es/calculadoras/verificador-de-elegibilidad" class="mt-2 block font-medium text-gold-400 no-underline">Verifique la elegibilidad de su hijo &rarr;</a>
          </div>
        </details>
        <details class="group rounded-lg border border-surface-600 bg-surface-800">
          <summary class="cursor-pointer px-6 py-4 font-semibold text-white">¿Es diferente de un plan 529?</summary>
          <div class="border-t border-surface-700 px-6 py-4 text-sm text-gray-300">
            Sí. Un 529 es para gastos educativos con retiros libres de impuestos. Una Cuenta Trump se convierte en una IRA tradicional a los 18 — el dinero puede usarse para cualquier cosa. Diferente tratamiento fiscal, diferentes límites, diferentes opciones de inversión. La mayoría de las familias deberían usar ambos.
            <a href="/compare" class="mt-2 block font-medium text-gold-400 no-underline">Ver comparación completa &rarr;</a>
          </div>
        </details>
      </div>
      <div class="mt-6 text-center">
        <a href="/es/preguntas-frecuentes" class="text-gold-400 no-underline hover:text-gold-300">{hp['faqPreview.viewAll']}</a>
      </div>
    </div>
  </section>
</BaseLayout>
