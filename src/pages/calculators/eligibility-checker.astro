---
import CalculatorLayout from '../../layouts/CalculatorLayout.astro';
import EligibilityChecker from '../../components/calculators/EligibilityChecker';
import CalloutBox from '../../components/ui/CalloutBox.astro';
import Accordion from '../../components/ui/Accordion.astro';
import limits from '../../data/contribution-limits.json';

const faqs = [
  {
    question: 'What are the eligibility requirements for a Trump Account?',
    answer: `Three requirements: (1) the child must be a U.S. citizen, (2) have a valid Social Security number (SSN), and (3) be under age ${limits.growthPhaseEndAge} at the end of the election year. There are no income limits for families.`,
  },
  {
    question: 'Does my child qualify for the $1,000 federal deposit?',
    answer: `The $${limits.pilotDeposit.toLocaleString()} federal pilot deposit is only for children born between January 1, ${limits.pilotDepositStartYear} and December 31, ${limits.pilotDepositEndYear}. Children born outside this window can still open a Trump Account and receive family contributions, but will not get the government deposit.`,
  },
  {
    question: 'Can I open a Trump Account for an adopted child?',
    answer: 'Yes. Adopted children who are U.S. citizens with a valid SSN qualify on the same terms as biological children. If the child was born between 2025-2028, they also qualify for the $1,000 pilot deposit.',
  },
  {
    question: 'Is there an income limit for Trump Accounts?',
    answer: 'No. Unlike Roth IRAs or some education tax credits, Trump Accounts have zero income restrictions. Any family can open and contribute regardless of how much they earn.',
  },
  {
    question: 'Can teenagers get a Trump Account?',
    answer: `Yes. Any U.S. citizen child under ${limits.growthPhaseEndAge} with a valid SSN can have a Trump Account. However, the growth phase is shorter for older children — a 15-year-old would only have 3 years of tax-deferred growth before the account converts to an IRA at 18.`,
  },
  {
    question: 'How do I open a Trump Account?',
    answer: `File ${limits.form} (Trump Account Election(s)) with your 2025 tax return (due April 15, 2026), use the ${limits.portal} portal when it launches in mid-2026, or mail the form to the IRS.`,
  },
];
---

<CalculatorLayout
  title="Trump Account Eligibility Checker"
  description="Answer 3 quick questions to find out if your child qualifies for a Trump Account and the $1,000 federal pilot deposit."
  calculatorName="Eligibility Checker"
  slug="eligibility-checker"
  abstract="Determines whether a child qualifies for a Section 530A Trump Account and the $1,000 federal pilot deposit based on citizenship, age, and SSN requirements."
>
  <section class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-white">Does Your Child Qualify?</h2>
    <p class="mb-4 text-gray-300">
      Trump Accounts are available to nearly every American child. The eligibility rules are simple — answer three quick questions below to find out if your child qualifies for a Trump Account and the <strong class="text-white">${limits.pilotDeposit.toLocaleString()} federal pilot deposit</strong>.
    </p>

    <div class="mb-6 rounded-xl border border-surface-600 bg-surface-800 p-6">
      <h3 class="mb-3 font-bold text-white">The 3 Requirements</h3>
      <ol class="space-y-2 text-gray-300">
        <li><strong class="text-white">1. U.S. citizen</strong> — the child must be a citizen of the United States</li>
        <li><strong class="text-white">2. Valid SSN</strong> — the child must have a Social Security number</li>
        <li><strong class="text-white">3. Under {limits.growthPhaseEndAge}</strong> — the child must be under age {limits.growthPhaseEndAge} at the end of the election year</li>
      </ol>
      <p class="mt-3 text-sm text-gray-400">There are <strong class="text-mint-400">no income restrictions</strong>. Any family can participate.</p>
    </div>

    <CalloutBox type="info" title="Pilot deposit has a narrower window">
      <p>
        While any child under {limits.growthPhaseEndAge} can open a Trump Account, only children born between {limits.pilotDepositStartYear} and {limits.pilotDepositEndYear} receive the ${limits.pilotDeposit.toLocaleString()} federal deposit. Use the checker below to see which benefits your child qualifies for.
      </p>
    </CalloutBox>
  </section>

  <EligibilityChecker client:visible />

  <section class="mt-10">
    <h2 class="mb-4 text-xl font-bold text-white">Frequently Asked Questions</h2>
    <Accordion items={faqs} />

    <div class="mt-6">
      <p class="text-sm text-gray-400">
        Ready to open an account? See our step-by-step <a href="/how-to-open-trump-account" class="text-gold-400 hover:text-gold-300">guide to opening a Trump Account</a>, or use the <a href="/calculators/growth-calculator" class="text-gold-400 hover:text-gold-300">growth calculator</a> to see how much your child's account could grow.
      </p>
    </div>
  </section>
</CalculatorLayout>
